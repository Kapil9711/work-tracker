import{r as t,u as h,j as e,A as g}from"./index-iTZG_CXf.js";import{L as p,N as d}from"./Toasts-wLaCnDvT.js";import{u,g as f,E as b,d as j}from"./styled-components.browser.esm-DYxTFAtm.js";const y=({setActive:r,firstRender:n})=>{const a=t.useRef(null),l=t.useRef(null),[i,s]=t.useState(!1),x=h();u(()=>{f.from(".login",{delay:n?1.6:.2,duration:2,opacity:0,skewX:30,skewY:-20,scale:.7,x:-500,ease:b.easeOut})});const c=async m=>{s(!0),m.preventDefault();const o={username:a.current.value,password:l.current.value},w=await g.login("/login",o);w.success?(d("success",w.message),s(!1),x("/dashboard")):(s(!1),d("error",w.message))};return e.jsxs("div",{style:{width:"min(95%,420px)",background:"hsl(11, 89%, 62%)"},className:"login border-r-[2px] border-l-[2px]  border-t-[10px] border-b-[10px] rounded-3xl py-8 px-5 shadow-lg shadow-black border-orange-950",children:[e.jsx("h2",{className:"text-3xl text-center underline text-white font-bold mb-8",children:"Login"}),e.jsxs("form",{onSubmit:c,className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"box1 flex flex-col ",children:[e.jsx("label",{className:"text-xl  font-bold tracking-wide text-gray-200 ",htmlFor:"name",children:"Username"}),e.jsx("input",{className:"bg-transparent text-white py-2 pl-2 border-b-4 border-b-orange-900 text-xl sm:text-2xl tracking-wide focus:outline-none sm:font-bold",type:"text",name:"username",id:"name",ref:a})]}),e.jsxs("div",{className:"box2 flex flex-col",children:[e.jsx("label",{className:"text-xl  font-bold tracking-wide text-gray-200  ",htmlFor:"password",children:"Password"}),e.jsx("input",{className:"bg-transparent text-white py-2 pl-2 border-b-4 border-b-orange-900 text-xl sm:text-2xl sm:font-bold tracking-wide focus:outline-none",type:"password",name:"password",id:"password",ref:l})]}),i?e.jsx("div",{className:"flex justify-center h-16",children:e.jsx(p,{})}):e.jsx("button",{className:"bg-gray-300 font-bold mt-4 tracking-wide text-orange-950  text-2xl py-2 px-10 w-fit mx-auto hover:bg-gray-200",children:"Login"})]}),e.jsxs("p",{className:"text-center mt-5 text-xl",children:["Do Not Have An Account ,"," ",e.jsx("span",{onClick:()=>r("register"),className:"text-white underline cursor-pointer",children:"Register."})]}),e.jsx("p",{className:"text-center mt-4 text-xl",children:e.jsx("span",{onClick:()=>r("forgotPassword"),className:"text-red-50 underline cursor-pointer",children:"Forgot Password"})})]})},N=({setActive:r})=>{const n=t.useRef(null),a=t.useRef(null),l=t.useRef(null),[i,s]=t.useState(!1);t.useEffect(()=>{l.current.focus()}),u(()=>{f.from(".register",{delay:.2,duration:2,skewX:-30,skewY:20,opacity:0,x:500,scale:.6,ease:b.easeOut})});const x=async c=>{c.preventDefault(),s(!0);const m={email:l.current.value,username:n.current.value,password:a.current.value},o=await g.register("/register",m);console.log(o),o.success?(d("success",o.message),s(!1)):(s(!1),d("error",o.message))};return e.jsxs("div",{style:{width:"min(95%,420px)",background:"hsl(11, 89%, 62%)"},className:"register border-r-[2px] border-l-[2px]  border-t-[10px] border-b-[10px] rounded-3xl py-8 px-5 shadow-lg shadow-black border-orange-950",children:[e.jsx("h2",{className:"text-3xl text-center underline text-white font-bold mb-8",children:"Register"}),e.jsxs("form",{autoComplete:"off",onSubmit:x,className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"box1 flex flex-col ",children:[e.jsx("label",{className:"text-xl  font-bold tracking-wide text-gray-200 ",htmlFor:"email",children:"Email"}),e.jsx("input",{className:"bg-transparent text-white py-2 pl-2 border-b-4 border-b-orange-900 text-xl sm:text-2xl tracking-wide focus:outline-none sm:font-bold",type:"email",name:"email",id:"email",ref:l})]}),e.jsxs("div",{className:"box2 flex flex-col",children:[e.jsx("label",{className:"text-xl   font-bold tracking-wide text-gray-200 ",htmlFor:"name",children:"Username"}),e.jsx("input",{className:"bg-transparent text-white py-2 pl-2 border-b-4 border-b-orange-900 text-xl sm:text-2xl tracking-wide focus:outline-none sm:font-bold",type:"text",name:"username",id:"name",ref:n})]}),e.jsxs("div",{className:"box3 flex flex-col",children:[e.jsx("label",{className:"text-xl font-bold tracking-wide text-gray-200  ",htmlFor:"password",children:"Password"}),e.jsx("input",{className:"bg-transparent text-white py-2 pl-2 border-b-4 border-b-orange-900 text-xl sm:text-2xl sm:font-bold tracking-wide focus:outline-none",type:"password",name:"password",id:"password",ref:a})]}),i?e.jsx("div",{className:"flex justify-center h-16",children:e.jsx(p,{})}):e.jsx("button",{className:"bg-gray-300 font-bold mt-4 tracking-wide text-orange-950  text-2xl py-2 px-10 w-fit mx-auto hover:bg-gray-200",children:"Register"})]}),e.jsxs("p",{className:"text-center mt-5 text-xl",children:["Already Registered ,"," ",e.jsx("span",{onClick:()=>r("login"),className:" cursor-pointer text-white underline",children:"Login."})]})]})},k=({setActive:r,setResetToken:n})=>{const a=t.useRef(null),l=t.useRef(null),[i,s]=t.useState(!1);u(()=>{f.from(".forgotPassword",{delay:.2,skewX:-20,skewY:20,duration:2,opacity:0,scale:.6,x:500,ease:b.easeOut})});const x=async c=>{s(!0),c.preventDefault();const m={email:l.current.value,username:a.current.value},o=await g.forgotPassword("/password/forgot",m);o.success?(r("resetPassword"),n(o.resetToken),d("success",o.message),s(!1)):(s(!1),d("error",o.message))};return e.jsxs("div",{style:{width:"min(95%,420px)",background:"hsl(11, 89%, 62%)"},className:"forgotPassword border-r-[2px] border-l-[2px]  border-t-[10px] border-b-[10px] rounded-3xl py-8 px-5 shadow-lg shadow-black border-orange-950",children:[e.jsx("h2",{className:"text-3xl text-center underline text-white font-bold mb-8",children:"ForgotPassword"}),e.jsxs("form",{onSubmit:x,className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"box1 flex flex-col",children:[e.jsx("label",{className:"text-xl   font-bold tracking-wide text-gray-200 ",htmlFor:"email",children:"Email"}),e.jsx("input",{className:"bg-transparent text-white py-2 pl-2 border-b-4 border-b-orange-900 text-xl sm:text-2xl tracking-wide focus:outline-none sm:font-bold",type:"email",name:"email",id:"email",ref:l})]}),e.jsxs("div",{className:"box2 flex flex-col",children:[e.jsx("label",{className:"text-xl   font-bold tracking-wide text-gray-200 ",htmlFor:"name",children:"Username"}),e.jsx("input",{className:"bg-transparent text-white py-2 pl-2 border-b-4 border-b-orange-900 text-xl sm:text-2xl tracking-wide focus:outline-none sm:font-bold",type:"text",name:"username",id:"name",ref:a})]}),i?e.jsx("div",{className:"flex justify-center h-16",children:e.jsx(p,{})}):e.jsx("button",{className:"bg-gray-300 font-bold mt-4 tracking-wide text-orange-950  text-2xl py-2 px-10 w-fit mx-auto hover:bg-gray-200",children:"Find User"})]}),e.jsx("p",{className:"text-center mt-5 text-xl",children:e.jsx("span",{onClick:()=>r("login"),className:"text-white underline cursor-pointer",children:"Login"})})]})},v=({setActive:r,resetToken:n})=>{const a=t.useRef(null),l=t.useRef(null),[i,s]=t.useState(!1);u(()=>{f.from(".resetPassword",{delay:.2,duration:2,skewX:-20,skewY:20,opacity:0,scale:.6,x:500,ease:b.easeOut})});const x=async c=>{if(c.preventDefault(),s(!0),a.current.value!=l.current.value)return s(!1),d("warning","Confirmed Password Not Matched");const m={password:a.current.value},o=await g.resetPassword(`/password/reset/${n}`,m);o.success?(s(!1),r("login"),d("success",o.message)):(s(!1),d("error"))};return e.jsxs("div",{style:{width:"min(95%,420px)",background:"hsl(11, 89%, 62%)"},className:"resetPassword border-r-[2px] border-l-[2px]  border-t-[10px] border-b-[10px] rounded-3xl py-8 px-5 shadow-lg shadow-black border-orange-950",children:[e.jsx("h2",{className:"text-3xl text-center underline text-white font-bold mb-8",children:"ResetPassword"}),e.jsxs("form",{onSubmit:x,className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"box1 flex flex-col",children:[e.jsx("label",{className:"text-xl  font-bold tracking-wide text-gray-200 ",htmlFor:"password",children:"New Password"}),e.jsx("input",{className:"bg-transparent text-white py-2 pl-2 border-b-4 border-b-orange-900 text-xl sm:text-2xl tracking-wide focus:outline-none sm:font-bold",type:"password",name:"password",id:"password",ref:a})]}),e.jsxs("div",{className:"box2 flex flex-col",children:[e.jsx("label",{className:"text-xl  font-bold tracking-wide text-gray-200 ",htmlFor:"password",children:"Confirm Password"}),e.jsx("input",{className:"bg-transparent text-white py-2 pl-2 border-b-4 border-b-orange-900 text-xl sm:text-2xl tracking-wide focus:outline-none sm:font-bold",type:"password",name:"password",id:"password",ref:l})]}),i?e.jsx("div",{className:"flex justify-center h-16",children:e.jsx(p,{})}):e.jsx("button",{className:"bg-gray-300 font-bold mt-4 tracking-wide text-orange-950  text-2xl py-2 px-10 w-fit mx-auto hover:bg-gray-200",children:"Reset-Password"})]}),e.jsx("p",{className:"text-center mt-5 text-xl",children:e.jsx("span",{onClick:()=>r("login"),className:"text-white underline cursor-pointer  ",children:"Login"})})]})},R=j.div`
  background-image: radial-gradient(
    circle 311px at 8.6% 27.9%,
    rgba(62, 147, 252, 0.57) 12.9%,
    rgba(239, 183, 192, 0.44) 91.2%
  );
`,F=()=>{const[r,n]=t.useState("login"),[a,l]=t.useState(!0),[i,s]=t.useState("");return t.useEffect(()=>{l(!1)},[]),u(()=>{f.from(".auth",{duration:1.6,scale:.5,y:600,ease:b.easeOut})}),e.jsxs(R,{className:"auth w-full  min-h-screen  flex justify-center items-center overflow-hidden",children:[r==="login"&&e.jsx(y,{firstRender:a,setActive:n}),r==="register"&&e.jsx(N,{setActive:n}),r==="forgotPassword"&&e.jsx(k,{setActive:n,setResetToken:s}),r==="resetPassword"&&e.jsx(v,{resetToken:i,setActive:n})]})};export{F as default};
